{"ast":null,"code":"var _jsxFileName = \"/Users/Lewamey/Desktop/Mod4_Project/project_management_frontend/src/containers/employee.js\";\nimport React from 'react'; // import Navbar from '../components/navbar';\n\nimport Sidebar from './employee/sidebar';\nimport '../style/employee.css';\nimport ProjectList from './employee/projectList';\n\nclass Employee extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      employee_data: {},\n      loaded: false\n    };\n\n    this.updateTask = updatedData => {\n      let config = {\n        method: \"PATCH\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.token,\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify(updatedData)\n      };\n      fetch(\"http://localhost:3000/employee_tasks/\".concat(updatedData.id), config).then(rsp => rsp.json()).then(data => this.setState({\n        employee_data: data\n      }));\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.token) {\n      this.props.history.push('/');\n    }\n\n    let config = {\n      headers: {\n        Authorization: localStorage.token\n      }\n    };\n    fetch(\"http://localhost:3000/employees/\".concat(this.props.match.params.username), config).then(res => res.json()).then(data => {\n      this.setState({\n        employee_data: data,\n        loaded: true\n      });\n    });\n  }\n\n  render() {\n    if (!this.state.loaded) {\n      return \"loading\";\n    }\n\n    return React.createElement(\"div\", {\n      className: \"employee-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-employee-sidebar-project\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Sidebar, {\n      employee: this.state.employee_data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(ProjectList, {\n      updateTask: this.updateTask,\n      data: this.state.employee_data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Employee;","map":{"version":3,"sources":["/Users/Lewamey/Desktop/Mod4_Project/project_management_frontend/src/containers/employee.js"],"names":["React","Sidebar","ProjectList","Employee","Component","state","employee_data","loaded","updateTask","updatedData","config","method","headers","localStorage","token","body","JSON","stringify","fetch","id","then","rsp","json","data","setState","componentDidMount","props","history","push","Authorization","match","params","username","res","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAQ,uBAAR;AACA,OAAOC,WAAP,MAAwB,wBAAxB;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAErCC,KAFqC,GAE7B;AACJC,MAAAA,aAAa,EAAE,EADX;AAEJC,MAAAA,MAAM,EAAE;AAFJ,KAF6B;;AAAA,SAuBrCC,UAvBqC,GAuBvBC,WAAD,IAAiB;AAC5B,UAAIC,MAAM,GAAG;AACXC,QAAAA,MAAM,EAAE,OADG;AAEXC,QAAAA,OAAO,EAAE;AACP,0BAAe,kBADR;AAEP,2BAAiBC,YAAY,CAACC,KAFvB;AAGP,oBAAS;AAHF,SAFE;AAOXC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,WAAf;AAPK,OAAb;AASAS,MAAAA,KAAK,gDAAyCT,WAAW,CAACU,EAArD,GAA2DT,MAA3D,CAAL,CACGU,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,IAAI,IAAI,KAAKC,QAAL,CAAc;AAC1BlB,QAAAA,aAAa,EAAEiB;AADW,OAAd,CAFhB;AAKD,KAtCoC;AAAA;;AAOrCE,EAAAA,iBAAiB,GAAG;AAClB,QAAI,CAACZ,YAAY,CAACC,KAAlB,EAAyB;AACvB,WAAKY,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD;;AACD,QAAIlB,MAAM,GAAG;AACXE,MAAAA,OAAO,EAAE;AACPiB,QAAAA,aAAa,EAAEhB,YAAY,CAACC;AADrB;AADE,KAAb;AAKAI,IAAAA,KAAK,2CAAoC,KAAKQ,KAAL,CAAWI,KAAX,CAAiBC,MAAjB,CAAwBC,QAA5D,GAAwEtB,MAAxE,CAAL,CACGU,IADH,CACQa,GAAG,IAAIA,GAAG,CAACX,IAAJ,EADf,EAEGF,IAFH,CAEQG,IAAI,IAAI;AACZ,WAAKC,QAAL,CAAc;AAAClB,QAAAA,aAAa,EAAEiB,IAAhB;AAAsBhB,QAAAA,MAAM,EAAE;AAA9B,OAAd;AACD,KAJH;AAKD;;AAoBD2B,EAAAA,MAAM,GAAG;AAEP,QAAI,CAAC,KAAK7B,KAAL,CAAWE,MAAhB,EAAwB;AACtB,aAAO,SAAP;AACD;;AACD,WACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAS,MAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWC,aAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,WAAD;AAAa,MAAA,UAAU,EAAE,KAAKE,UAA9B;AAA0C,MAAA,IAAI,EAAE,KAAKH,KAAL,CAAWC,aAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,CADF;AAQD;;AAtDoC;;AAyDvC,eAAeH,QAAf","sourcesContent":["import React from 'react'\n// import Navbar from '../components/navbar';\nimport Sidebar from './employee/sidebar';\nimport  '../style/employee.css'\nimport ProjectList from './employee/projectList';\n\nclass Employee extends React.Component {\n\n  state = {\n      employee_data: {},\n      loaded: false\n  }\n\n  componentDidMount() {\n    if (!localStorage.token) {\n      this.props.history.push('/')\n    }\n    let config = {\n      headers: {\n        Authorization: localStorage.token\n      }\n    }\n    fetch(`http://localhost:3000/employees/${this.props.match.params.username}`, config)\n      .then(res => res.json())\n      .then(data => {\n        this.setState({employee_data: data, loaded: true})\n      })\n  }\n\n  updateTask = (updatedData) => {\n    let config = {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type':'application/json',\n        'Authorization': localStorage.token,\n        'Accept':'application/json'\n      },\n      body: JSON.stringify(updatedData)\n    }\n    fetch(`http://localhost:3000/employee_tasks/${updatedData.id}`, config)\n      .then(rsp => rsp.json())\n      .then(data => this.setState({\n        employee_data: data\n      }))\n  }\n\n\n  render() {\n\n    if (!this.state.loaded) {\n      return \"loading\"\n    }\n    return (\n      <div className=\"employee-container\">\n        <div className=\"container-employee-sidebar-project\">\n          <Sidebar employee={this.state.employee_data}/>\n          <ProjectList updateTask={this.updateTask} data={this.state.employee_data}/>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Employee\n"]},"metadata":{},"sourceType":"module"}